<?php

/**
 * The template for displaying all single posts
 *
 * @link https://developer.wordpress.org/themes/basics/template-hierarchy/#single-artist
 *
 * @package WordPress
 * @subpackage AiOP_2025
 * @copyright  AiOP, Laurie Waxman, Ross Mabbett
 * @since 1.0.0
 * @version 1.0.0
 */

get_header();

?>

<?php
wp_reset_query();

$pressArgs = array(
    'post_type' => 'press',
    'meta_key' => 'article_date',
    'orderby' => 'meta_value',
    'order'    => 'DSC',
    'posts_per_page' => 100
);

$pressQuery = new WP_Query($pressArgs);


?>

<main class="site-content press press-listing">
    <div id="fullpage-texture"></div>

    <div class="title">
        <svg width="610" height="186" viewBox="0 0 610 186" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g opacity="0.3" clip-path="url(#clip0_683_1099)">
                <path
                    d="M0 9.04753C0 6.69546 1.17688 5.03833 3.3033 5.03833H58.2691C69.1151 5.03833 104.034 12.8162 104.034 57.3717C104.034 79.2887 84.4548 100.978 61.8131 100.978C50.2583 100.978 49.0814 100.978 49.0814 103.812V177.207C49.0814 179.091 47.6638 180.508 45.0693 180.508H3.77138C1.64496 180.508 0 178.623 0 176.271V9.04753ZM49.068 70.562C49.068 71.5108 49.7768 73.1546 51.4218 73.1546C54.9658 73.1546 56.37 70.0942 56.37 65.3767V55.7146C56.37 51.9459 54.4843 49.3533 51.4218 49.3533C50.713 49.3533 50.2449 49.3533 49.7768 49.5939C49.3087 49.8344 49.068 50.7699 49.068 51.4782V70.5753V70.562Z"
                    fill="#320784" />
                <path
                    d="M222.952 170.217C223.487 177.006 219.301 183.394 209.057 183.394C190.963 183.394 177.883 166.475 166.114 122.695C159.133 122.254 153.904 119.862 148.889 115.946C147.15 114.636 145.84 113.327 144.529 112.244C143.874 129.016 143.446 145.347 143.446 155.811C143.446 173.892 144.315 182.378 145.185 185.653C141.266 187.176 134.726 183.688 130.58 178.904C119.895 166.489 118.37 155.811 118.37 129.671C118.37 108.329 122.516 57.786 128.401 27.9442C121.206 29.2538 114.238 30.9912 106.815 33.3967C101.145 26.4207 118.37 0.935547 153.463 0.935547C205.125 0.935547 219.288 47.1081 219.288 69.7735C219.288 92.4388 202.945 113.768 183.099 120.53C209.472 160.609 212.467 164.35 222.926 170.231L222.952 170.217ZM209.057 50.3689C199.468 32.2875 178.538 25.7525 153.904 25.7525C148.461 25.7525 143.005 25.9663 137.334 26.6211C138.645 27.717 139.514 29.0133 140.383 30.1091C144.957 36.2031 146.709 41.4418 146.709 51.2376C146.709 58.4274 145.626 81.7342 144.743 105.469C178.966 105.028 203.601 81.507 209.044 50.3556L209.057 50.3689Z"
                    fill="#320784" />
                <path
                    d="M227.366 179.906C232.889 172.449 235.109 166.916 235.377 147.579C235.925 134.041 235.925 115.251 235.925 95.9134C235.925 76.5757 235.925 56.1288 235.377 39.5575C235.096 19.9392 232.06 11.6535 227.366 6.96272V6.41479H362.279C361.999 15.529 361.999 24.376 361.999 34.3188C361.999 44.2616 362.279 55.3136 362.828 67.7421H362.279C354.536 46.1994 350.109 42.8851 320.54 42.8851C302.566 42.8851 288.751 43.1658 274.642 43.9943C274.361 62.5035 274.361 90.9554 273.264 118.311H273.813C276.581 77.1504 290.128 59.4698 316.943 59.4698C341.55 59.4698 350.671 72.179 350.671 92.8932C350.671 116.654 336.843 134.602 314.736 134.602C300.64 134.602 292.616 127.693 292.616 115.264C292.616 106.15 298.42 97.8646 310.309 97.8646C319.711 97.8646 327.454 104.493 327.454 115.545C327.454 121.064 324.686 131.288 313.907 133.506C330.49 131.849 337.685 120.797 337.685 111.964C337.685 96.2208 326.906 89.031 309.213 89.031C291.519 89.031 276.594 98.1452 275.203 119.701C274.923 123.296 274.923 127.158 274.923 131.301C274.923 134.896 274.923 138.758 275.203 142.901C289.58 144.01 303.408 144.01 321.369 144.01C352.062 144.01 355.379 140.977 363.109 119.153H363.657C363.376 131.034 363.109 142.353 363.109 153.686C363.109 164.177 363.109 172.476 363.389 180.481H227.379V179.933L227.366 179.906Z"
                    fill="#320784" />
                <path
                    d="M437.667 184.303C410.304 184.303 372.163 169.883 372.163 133.921C372.163 119.274 382.073 105.495 397.8 105.495C410.077 105.495 421.07 114.97 421.07 127.666C421.07 131.756 418.917 141.231 413.741 141.231C412.658 141.231 411.802 140.803 410.933 140.803C407.91 140.803 405.757 143.823 405.757 146.616C405.757 157.161 423.424 162.332 436.142 162.332C450.572 162.332 472.131 153.726 472.131 135.203C472.131 93 386.807 108.716 386.807 47.362C386.807 19.1506 415.253 4.30321 440.462 4.30321C446.707 4.30321 452.953 5.1585 458.771 7.32347C460.924 7.96494 468.68 12.0543 470.192 12.0543C471.048 12.0543 472.131 11.199 472.131 10.3304C472.131 8.60641 470.62 6.66863 470.62 4.73085C470.62 1.93778 473.201 0 475.795 0C479.032 0 481.185 2.1516 482.255 4.95804L495.829 41.9897C495.829 42.4173 496.043 42.845 496.043 43.286C496.043 47.1615 485.919 49.7408 482.683 49.7408C476.223 49.7408 469.536 25.1911 441.318 25.1911C429.683 25.1911 416.322 30.5768 416.322 43.9274C416.322 62.4366 437.867 67.3946 452.084 71.9116C478.804 80.0904 507.023 94.0825 507.023 126.169C507.023 163.201 467.811 184.303 437.64 184.303H437.667Z"
                    fill="#320784" />
                <path
                    d="M516.879 103.771C518.444 103.771 519.969 105.014 521.453 107.513C522.938 110.012 524.636 113.113 526.535 116.828C528.434 120.543 530.574 124.579 532.955 128.936C535.335 133.293 538.143 137.328 541.38 141.044C544.616 144.759 548.401 147.873 552.707 150.358C557.027 152.857 562.015 154.1 567.673 154.1C569.09 154.1 570.414 153.78 571.631 153.151C572.862 152.523 573.918 151.681 574.814 150.639C575.71 149.597 576.419 148.394 576.94 147.017C577.462 145.641 577.716 144.211 577.716 142.728C577.716 137.596 576.753 132.892 574.814 128.615C572.875 124.339 570.307 120.316 567.111 116.561C563.915 112.806 560.277 109.211 556.225 105.789C552.172 102.368 548.013 98.9337 543.774 95.4725C539.534 92.0112 535.375 88.4564 531.323 84.8214C527.271 81.173 523.633 77.2707 520.437 73.1011C517.24 68.9316 514.673 64.4012 512.734 59.4966C510.794 54.592 509.831 49.1261 509.831 43.099C509.831 37.6732 510.968 32.5013 513.242 27.5968C515.515 22.6922 518.538 18.3622 522.336 14.5936C526.134 10.8383 530.507 7.85814 535.455 5.66645C540.404 3.47475 545.566 2.37891 550.915 2.37891C554.259 2.37891 557.522 2.64619 560.678 3.15402C563.848 3.67521 566.95 4.24986 570 4.87797C573.049 5.50608 576.098 6.0941 579.161 6.60193C582.21 7.12312 585.299 7.37704 588.428 7.37704C590.435 7.37704 592.334 7.12312 594.126 6.60193C595.918 6.08073 597.656 5.50608 599.368 4.87797C601.08 4.24986 602.778 3.67521 604.45 3.15402C606.122 2.63282 607.887 2.37891 609.76 2.37891C606.924 13.9788 603.862 25.5253 600.545 37.0184C597.228 48.5114 593.979 60.0579 590.769 71.6578C590.167 68.7578 589.485 65.7242 588.709 62.5703C587.934 59.403 586.957 56.316 585.807 53.3091C584.657 50.3022 583.253 47.4289 581.621 44.716C579.976 42.0031 577.997 39.6243 575.643 37.5797C573.303 35.535 570.561 33.9179 567.432 32.7285C564.302 31.5391 560.692 30.9377 556.599 30.9377C554.807 30.9377 553.122 31.2318 551.517 31.8331C549.912 32.4345 548.508 33.3032 547.278 34.4525C546.047 35.6018 545.058 37.005 544.322 38.6354C543.573 40.2658 543.212 42.1368 543.212 44.2082C543.212 46.734 544.162 49.3934 546.061 52.1865C547.96 54.9796 550.474 57.9197 553.603 61.0067C556.733 64.0938 560.304 67.3279 564.316 70.709C568.341 74.0901 572.434 77.685 576.593 81.4804C580.765 85.2757 584.858 89.2849 588.87 93.5347C592.895 97.7711 596.466 102.261 599.582 106.979C602.712 111.696 605.226 116.668 607.112 121.866C609.011 127.078 609.96 132.571 609.96 138.384C609.96 144.933 608.863 150.92 606.67 156.345C604.477 161.771 601.454 166.422 597.63 170.297C593.791 174.16 589.311 177.153 584.176 179.278C579.04 181.403 573.53 182.459 567.646 182.459C564.597 182.459 561.561 182.165 558.552 181.563C555.543 180.975 552.534 180.32 549.565 179.612C546.582 178.904 543.613 178.262 540.631 177.661C537.649 177.073 534.68 176.766 531.697 176.766C529.758 176.766 527.792 177.06 525.773 177.661C523.767 178.262 521.787 178.904 519.848 179.612C517.909 180.32 516.09 180.975 514.378 181.563C512.667 182.165 511.142 182.459 509.805 182.459C509.805 178.81 510.273 175.603 511.196 172.81C512.118 170.017 513.135 167.197 514.205 164.337C515.288 161.477 516.291 158.39 517.214 155.076C518.136 151.762 518.605 147.726 518.605 142.968C518.605 139.106 518.511 135.324 518.324 131.649C518.136 127.974 517.936 124.459 517.708 121.105C517.481 117.75 517.281 114.636 517.093 111.736C516.906 108.836 516.812 106.19 516.812 103.812L516.879 103.771Z"
                    fill="#320784" />
            </g>
            <defs>
                <clipPath id="clip0_683_1099">
                    <rect width="610" height="186" fill="white" />
                </clipPath>
            </defs>
        </svg>

    </div>
    <section class="press-posts">

        <?php
        if ($pressQuery->have_posts()): ?>
        <?php while ($pressQuery->have_posts()): $pressQuery->the_post(); ?>

        <?php if (function_exists('get_field')): ?>
        <?php

                    $article_title = get_field('article_title');
                    $article_publication = get_field('article_publication');
                    $article_link = get_field('article_link');
                    $article_date = get_field('article_date');

                    ?>
        <div class="press-container">
            <h3 class="press-publication">
                <?php echo $article_publication ?>
            </h3>
            <p class="press-title">
                <?php echo $article_title  ?>
            </p>
            <p class="press-date">
                <?php echo $article_date ?>
            </p>
            <a href="<?php echo $article_link ?>" target="_blank" class="button brightblue">Read more</a>
        </div>
        <?php endif ?>
        <?php endwhile ?>
        <?php endif ?>
    </section>
</main><!-- #primary -->

<?php get_footer(); ?>